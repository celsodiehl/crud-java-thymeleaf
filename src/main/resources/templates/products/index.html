<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: page_head}">
  <title>CRUD JAVA SPRING BOOT THIMELEAF</title>
</head>
<body>

<nav th:replace="~{layout :: page_navbar}"></nav>

<div class="container py-3">
  <h1 class="text-center my-4">Lista de Produtos</h1>

  <a class="btn btn-primary mb-3" href="/products/create">Adicionar Produto</a>

  <table class="table">
    <thead>
     <tr>
       <th>ID</th>
       <th>Nome</th>
       <th>Marca</th>
       <th>Category</th>
       <th>Preço</th>
       <th>Descrição</th>
       <th>Criado em:</th>
       <th>IMAGEM</th>
       <th>Ação</th>
     </tr>
    </thead>

    <tbody class="table-group-divider">
        <tr th:each="obj : ${products}">
          <td th:text="${obj.id}"></td>
          <td th:text="${obj.name}"></td>
          <td th:text="${obj.brand}"></td>
          <td th:text="${obj.category}"></td>
          <td th:text="${#numbers.formatDecimal(obj.price, 1, 2)}">0.00</td>
          <td th:text="${obj.description}"></td>
          <td th:text="${#dates.format(obj.createdAt, 'dd/MM/yyyy')}"></td>
          <td><img th:src="@{'/images/' + ${obj.imageFileName}}" alt="..." width="70" height="80"></td>

          <td style="white-space:nowrap">
            <a class="btn btn-primary btn-sm" th:href="@{/products/edit(id=${obj.id})}">Editar</a>
            <a class="btn btn-danger btn-sm" th:href="@{/products/delete(id=${obj.id})}" onclick="return confirm('Certeza, quer Excluir?')">DELETE</a>
          </td>
        </tr>
    </tbody>

  </table>
</div>

<footer th:replace="~{layout :: page_footer}"></footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
</body>
</html>